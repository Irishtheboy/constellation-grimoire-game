"use strict";(self.webpackChunkconstellation_grimoire_game=self.webpackChunkconstellation_grimoire_game||[]).push([[266],{266:(e,t,n)=>{n.d(t,{generateBattleStory:()=>a,generateFriendlyDuelStory:()=>h,generateLevelUpStory:()=>d});const a=(e,t,n)=>{const{constellation:a,level:i,battleStats:c,username:h}=e,{result:l,spellsUsed:d=[],itemsUsed:u=[]}=t,m=o(e,c),g=r(m,t,n);return{title:s(l,c.totalBattles,m),story:g,location:m.location,timestamp:(new Date).toISOString(),battleNumber:c.totalBattles,level:i,result:l,mood:m.mood,aiGenerated:!0}},o=(e,t)=>{const{constellation:n,level:a,username:o}=e,r=t.totalBattles>0?t.wins/t.totalBattles:0;let s="beginner";a>=20?s="master":a>=10?s="advanced":a>=5&&(s="intermediate");let c="struggling";return r>.8?c="triumphant":r<.3?c="desperate":a>=15&&(c="transcendent"),{tier:s,mood:c,location:i({beginner:["the Forgotten Crossroads","the Ancestral Mound","the Whispering Caverns"],intermediate:["the City of Tears","the Crystal Peak","the Fungal Wastes"],advanced:["the Ancient Basin","the Abyss","the White Palace"],master:["the Void Realm","the Dream Realm","the Eternal Sanctum"]}[s]),winRate:r,constellation:n,username:o||n,level:a}},r=(e,t,n)=>{const{result:a,spellsUsed:o=[],itemsUsed:r=[]}=t,s={openings:{triumphant:["In the depths of ".concat(e.location,", where shadows dance with ancient power, ").concat(e.username," moved with the confidence of one who has tasted victory many times before."),"The ".concat(e.mood," warrior ").concat(e.username," descended into ").concat(e.location,", their ").concat(e.constellation," essence radiating with hard-earned mastery.")],struggling:["Through the treacherous paths of ".concat(e.location,", ").concat(e.username," ventured forth, each step a lesson in the harsh realities of this forsaken realm."),"The shadows of ".concat(e.location," seemed to whisper doubts, but ").concat(e.username," pressed on, driven by the need to grow stronger.")],desperate:["Battered but unbroken, ".concat(e.username," found themselves in the unforgiving ").concat(e.location,", where only the strongest survive."),"The cruel winds of ".concat(e.location," carried the scent of defeat, yet ").concat(e.username," refused to yield to despair.")],transcendent:["Like a force of nature itself, ".concat(e.username," manifested in ").concat(e.location,", their presence bending reality to their will."),"The very essence of ".concat(e.location," seemed to acknowledge the power of ").concat(e.username,", a being who had transcended mortal limitations.")]},conflicts:{win:["The ".concat((null===n||void 0===n?void 0:n.constellation)||"Void Spawn"," emerged from the darkness, but ").concat(e.username," was ready. With ").concat(c(o[0]),", they carved through shadow and bone alike."),"As the ".concat((null===n||void 0===n?void 0:n.constellation)||"Ancient Guardian"," unleashed its fury, ").concat(e.username," responded with the precision of a master, their ").concat(c(o[0])," finding its mark with devastating effect.")],loss:["The ".concat((null===n||void 0===n?void 0:n.constellation)||"Nightmare Entity"," proved to be a formidable adversary. Despite ").concat(e.username,"'s best efforts with ").concat(c(o[0]),", the darkness claimed victory this day."),"In a clash that shook the very foundations of ".concat(e.location,", the ").concat((null===n||void 0===n?void 0:n.constellation)||"Shadow Lord"," overwhelmed ").concat(e.username,", teaching them that power alone is not enough.")]},conclusions:{win:{triumphant:"Victory came as naturally as breathing. The essence of the fallen foe merged with ".concat(e.username,"'s growing legend."),struggling:"Hard-fought victory brought not just triumph, but wisdom. Each battle shapes the warrior within.",desperate:"Against all odds, victory was seized from the jaws of defeat. Hope rekindled in the darkness.",transcendent:"The outcome was never in doubt. Reality itself bent to acknowledge ".concat(e.username,"'s supremacy.")},loss:{triumphant:"Even legends must sometimes fall to rise again stronger. This defeat will fuel future victories.",struggling:"Defeat stings, but it teaches lessons that victory cannot. The path to mastery is paved with such moments.",desperate:"Another setback in a journey filled with them. Yet ".concat(e.username," endures, for that is what defines a true warrior."),transcendent:"Even transcendent beings must face humility. This defeat will only deepen ".concat(e.username,"'s understanding of power.")}}},h=i(s.openings[e.mood]),l=i(s.conflicts[a]),d=s.conclusions[a][e.mood];return"".concat(h," ").concat(l," ").concat(d)},s=(e,t,n)=>{const a=i({win:["Triumph","Victory","Conquest","Ascension"],loss:["Trial","Ordeal","Lesson","Reckoning"]}[e]),o={"the Forgotten Crossroads":"in the Crossroads","the City of Tears":"beneath Weeping Stones","the Abyss":"in the Void","the White Palace":"in the Pale Court"}[n.location]||"in ".concat(n.location);return"".concat(a," ").concat(o)},i=e=>e[Math.floor(Math.random()*e.length)],c=e=>({ASTRAL_STRIKE:"void-touched steel that cuts through reality itself",PHOENIX_FLAME:"soul fire that burns with the intensity of dying stars",GLACIAL_SHARD:"crystallized despair that freezes the very essence of being",THUNDEROUS_WRATH:"the rage of forgotten gods made manifest",VOID_TEMPEST:"winds from the space between worlds",DIVINE_RESTORATION:"light borrowed from realms beyond death",CELESTIAL_WARD:"barriers woven from the dreams of ancient guardians"}[e]||"forbidden arts drawn from the deep places of the world"),h=e=>{const{winner:t,loser:n,chatLog:a,duelEvents:o}=e,r=l(a),s=["the Training Grounds of Echoing Whispers","the Sparring Circle of Ancient Bonds","the Dueling Sanctum of Friendly Rivalry","the Practice Arena of Shared Wisdom"],c={respectful:["In ".concat(i(s),", ").concat(t.username," and ").concat(n.username," met for a test of skill born from mutual respect. ").concat(r.tone,". The duel was fierce yet honorable, with ").concat(t.username," emerging victorious through superior technique."),"What began as friendly banter between ".concat(t.username," and ").concat(n.username," evolved into a formal challenge in ").concat(i(s),". ").concat(r.tone,". Both warriors fought with honor, but ").concat(t.username,"'s mastery proved decisive.")],competitive:["The competitive spirit between ".concat(t.username," and ").concat(n.username," reached its peak in ").concat(i(s),". ").concat(r.tone,". Their rivalry pushed both to their limits, with ").concat(t.username," claiming victory through sheer determination."),"In ".concat(i(s),", ").concat(t.username," and ").concat(n.username," settled their friendly rivalry with steel and sorcery. ").concat(r.tone,". The battle was intense, ending with ").concat(t.username,"'s triumph.")],playful:["Laughter echoed through ".concat(i(s)," as ").concat(t.username," and ").concat(n.username," engaged in their spirited duel. ").concat(r.tone,". Even in defeat, ").concat(n.username," smiled, knowing they had learned from their friend ").concat(t.username,"."),"What started as jest between friends became a delightful contest in ".concat(i(s),". ").concat(r.tone,". ").concat(t.username," proved victorious, but both gained something valuable from the exchange.")]},h=i(c[r.mood]);return{title:"Friendly Duel: ".concat(t.username," vs ").concat(n.username),story:h,location:i(s),timestamp:(new Date).toISOString(),type:"friendlyDuel",participants:[t.username,n.username],aiGenerated:!0}},l=e=>{if(!e||0===e.length)return{mood:"respectful",tone:"Their words were few but carried the weight of mutual respect"};const t=e.map(e=>e.message.toLowerCase()).join(" ");let n="respectful",a=0,o=0,r=0;["challenge","beat","win","defeat","stronger","better"].forEach(e=>{t.includes(e)&&a++}),["haha","lol","fun","joke","laugh","\ud83d\ude04","\ud83d\ude02"].forEach(e=>{t.includes(e)&&o++}),["honor","respect","skill","learn","teach","wisdom"].forEach(e=>{t.includes(e)&&r++}),a>o&&a>r?n="competitive":o>r&&(n="playful");return{mood:n,tone:{competitive:"Their words crackled with competitive fire, each seeking to prove their superiority",playful:"Their banter was filled with laughter and good-natured teasing",respectful:"They spoke with the reverence of true warriors acknowledging each other's strength"}[n]}},d=(e,t)=>{const{constellation:n,username:a}=e,o=u(a||n,n,t);return{title:m(t),story:o,timestamp:(new Date).toISOString(),level:t,type:"levelup",aiGenerated:!0}},u=(e,t,n)=>{const a={5:"apprentice",10:"adept",15:"master",20:"grandmaster",25:"legend"},o=Object.keys(a).reverse().find(e=>n>=parseInt(e)),r=o?a[o]:"initiate",s={initiate:["In the quiet moments between battles, ".concat(e," felt something stir within. The ").concat(t," constellation pulsed with newfound energy, marking the beginning of a greater journey."),"The shadows themselves seemed to acknowledge ".concat(e,"'s growth. Power flowed through their being like liquid starlight, transforming them from within.")],apprentice:["The ancient halls of learning whispered secrets to ".concat(e," as they crossed the threshold into deeper understanding. The ").concat(t," bloodline awakened, revealing hidden potential."),"In a moment of perfect clarity, ".concat(e," felt the weight of their destiny. The realm itself seemed to bend slightly, recognizing a new force in its midst.")],adept:["Reality rippled around ".concat(e," as they achieved a new level of mastery. The ").concat(t," constellation blazed brighter in the cosmic tapestry, its chosen vessel growing ever stronger."),"The void between worlds acknowledged ".concat(e,"'s ascension. Where once there was potential, now there was undeniable power.")],master:["The very fabric of existence trembled as ".concat(e," transcended mortal limitations. Ancient entities paused in their eternal dance to witness this moment of transformation."),"In the deepest chambers of the soul, ".concat(e," found the key to true power. The ").concat(t," legacy burned within them like a star being born.")],grandmaster:["Legends speak of moments when mortals touch divinity. ".concat(e," had become such a legend, their name destined to echo through eternity."),"The boundary between ".concat(e," and the cosmic forces they wielded began to blur. They were becoming something beyond what they once were.")],legend:["In achieving level ".concat(n,", ").concat(e," had transcended the very concept of mortality. They were no longer bound by the laws that govern lesser beings."),"The universe itself rewrote its rules to accommodate ".concat(e,"'s ascension. They had become a force of nature, eternal and unstoppable.")]};return i(s[r])},m=e=>{const t={5:["First Awakening","The Stirring","Initial Transcendence"],10:["The Deepening","Adept's Rise","Power Manifest"],15:["Master's Threshold","The Great Awakening","Cosmic Alignment"],20:["Grandmaster's Ascension","Beyond Mortality","Legendary Status"],25:["Mythic Transformation","Divine Ascension","Eternal Legend"]},n=Object.keys(t).reverse().find(t=>e>=parseInt(t));return n?i(t[n]):"Ascension to Level ".concat(e)}}}]);
//# sourceMappingURL=266.c40af14e.chunk.js.map